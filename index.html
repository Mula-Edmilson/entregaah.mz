<!DOCTYPE html>
<html lang="pt-mz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Entregaah Mz</title>
    <link rel="icon" href="https://i.postimg.cc/4xkWBYss/ISOTIPO.png" type="image/png">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.socket.io/4.7.0/socket.io.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.2/jspdf.plugin.autotable.min.js"></script>
</head>
<body class="dashboard-body">

    <nav class="sidebar">
        <div class="sidebar-header"><img src="https://i.postimg.cc/VkQKDJ1x/LOGO.png" alt="Logotipo Entregaah Mz" class="dashboard-logo"></div>
        <ul class="sidebar-menu">
            <li class="menu-item active" id="nav-visao-geral"><a href="#"><i class="fas fa-tachometer-alt"></i> Visão Geral</a></li>
            <li class="menu-item has-submenu">
                <a href="#"><i class="fas fa-plus-circle"></i> Nova Entrega</a>
                <ul class="submenu">
                    <li><a href="#" id="nav-form-doc">Tramitação de Documentos</a></li>
                    <li><a href="#" id="nav-form-farma">Produtos Farmacêuticos</a></li>
                    <li><a href="#" id="nav-form-carga">Transporte de Cargas</a></li>
                    <li><a href="#" id="nav-form-rapido">Delivery Rápido</a></li>
                    <li><a href="#" id="nav-form-outros">Outros Serviços</a></li>
                </ul>
            </li>
            <li class="menu-item" id="nav-entregas"><a href="#"><i class="fas fa-tasks"></i> Entregas Activas</a></li>
            <li class="menu-item" id="nav-motoristas"><a href="#"><i class="fas fa-motorcycle"></i> Motoristas</a></li>
            <li class="menu-item" id="nav-clientes"><a href="#"><i class="fas fa-users"></i> Clientes</a></li>
            <li class="menu-item" id="nav-historico"><a href="#"><i class="fas fa-history"></i> Histórico</a></li>
            <li class="menu-item" id="nav-mapa"><a href="#"><i class="fas fa-map-marked-alt"></i> Mapa em Tempo Real</a></li>
            <li class="menu-item" id="nav-config"><a href="#"><i class="fas fa-cog"></i> Configurações</a></li>
            <li class="menu-item menu-item-logout" id="admin-logout"><a href="#"><i class="fas fa-sign-out-alt"></i> Sair (Logout)</a></li>
        </ul>
        <div class="sidebar-footer"><a href="https://wa.me/258820234840" target="_blank"><i class="fab fa-whatsapp"></i> Suporte (+258 82...40)</a></div>
    </nav>

    <main class="main-content">
        <header class="main-header">
            <button class="btn-mobile-menu" id="mobile-menu-toggle">
                <i class="fas fa-bars"></i>
            </button>
            <h1 id="main-title">Visão Geral</h1>
            <div class="admin-profile"><span>Olá, Admin</span><i class="fas fa-user-circle"></i></div>
        </header>

        <div class="content-area">
            
            <div id="visao-geral" class="content-page">
                <div class="stats-cards">
                    <div class="card card-warning"><h3>Pendentes</h3><p id="stats-pendentes">...</p></div>
                    <div class="card card-info"><h3>Em Trânsito</h3><p id="stats-em-transito">...</p></div>
                    <div class="card card-success"><h3>Concluídas (Hoje)</h3><p id="stats-concluidas-hoje">...</p></div>
                    <div class="card card-success"><h3>Motoristas Online</h3><p id="stats-motoristas-online">...</p></div>
                </div>
                <h3 style="margin-top: 2rem; color: var(--text-color); font-weight: 600;">Financeiro (Este Mês)</h3>
                <div class="stats-cards" style="margin-top: 1rem;">
                    <div class="card card-success">
                        <h3><i class="fas fa-dollar-sign"></i> Receita Total</h3>
                        <p id="stats-receita-total">...</p>
                    </div>
                    <div class="card card-info">
                        <h3><i class="fas fa-wallet"></i> Lucro da Empresa</h3>
                        <p id="stats-lucro-empresa">...</p>
                    </div>
                    <div class="card card-warning">
                        <h3><i class="fas fa-motorcycle"></i> Ganhos (Motoristas)</h3>
                        <p id="stats-ganhos-motorista">...</p>
                    </div>
                    <div class="card">
                        <h3><i class="fas fa-trophy"></i> Top Motorista</h3>
                        <p id="stats-top-driver" style="font-size: 1.5rem; color: var(--primary-color);">...</p>
                    </div>
                </div>
                <div class="charts-grid">
                    <div class="chart-container" id="main-chart-container">
                        <div class="chart-header">
                            <h3>Desempenho dos Serviços</h3>
                            <button class="btn-action-small btn-danger" id="btn-reset-chart"><i class="fas fa-sync"></i> Reset</button>
                        </div>
                        <canvas id="servicesChart"></canvas>
                    </div>
                    <div class="chart-container" id="deliveries-chart-container">
                        <h3>Entregas Ativas</h3>
                        <canvas id="deliveriesStatusChart"></canvas>
                    </div>
                    <div class="chart-container" id="financialChartContainer">
                        <h3>Divisão da Receita (Este Mês)</h3>
                        <canvas id="financialPieChart"></canvas>
                    </div>
                </div>
            </div>

            <div id="form-nova-entrega" class="content-page hidden">
                <form id="delivery-form">
                    <input type="hidden" id="service-type" name="service_type">
                    <input type="hidden" id="delivery-client-id" name="clientId">
                    <h3>Cliente</h3>
                    <div class="form-group form-group-large">
                        <label for="delivery-client-select">Cliente Registado (Opcional)</label>
                        <select id="delivery-client-select">
                            <option value="">-- Ou digite manualmente abaixo --</option>
                        </select>
                    </div>
                    <h3>Dados do Cliente/Destinatário</h3>
                    <div class="form-row">
                        <div class="form-group"><label for="client-name">Nome Completo</label><input type="text" id="client-name" name="client_name" required></div>
                        <div class="form-group"><label for="client-phone1">Número Principal</label><input type="tel" id="client-phone1" name="client_phone1" required></div>
                        <div class="form-group"><label for="client-phone2">Número Alternativo</label><input type="tel" id="client-phone2" name="client_phone2"></div>
                    </div>
                    <h3>Detalhes da Encomenda</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="delivery-price">Valor da Encomenda (MZN)</label>
                            <input type="number" id="delivery-price" name="price" min="0" step="0.01" required placeholder="Ex: 500.00">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="delivery-image"><i class="fas fa-image"></i> Imagem da Encomenda (Opcional)</label>
                        <input type="file" id="delivery-image" name="deliveryImage" accept="image/*">
                        <small>Faça upload de uma foto da encomenda para fácil identificação.</small>
                        <div id="image-preview" class="image-preview hidden">
                            <img src="" alt="Pré-visualização da Imagem" class="preview-img">
                            <button type="button" class="remove-image-btn" onclick="removeImage()">X</button>
                        </div>
                    </div>
                    <h3>Detalhes do Destino</h3>
                    <div class="form-row">
                        <div class="form-group form-group-large"><label for="delivery-address">Endereço Final (escrito)</label><input type="text" id="delivery-address" name="address_text" placeholder="Ex: Av. Julius Nyerere, 123, Maputo"></div>
                    </div>
                    <label>Pin do Endereço no Mapa</label>
                    <div id="map"></div>
                    <input type="hidden" id="delivery-lng" name="lng">
                    <input type="hidden" id="delivery-lat" name="lat">
                    <div class="form-group" style="margin-top: 2rem; display: flex; align-items: center; gap: 10px;">
                        <input type="checkbox" id="autoAssignCheckbox" name="autoAssign" value="true" style="width: auto;">
                        <label for="autoAssignCheckbox" style="margin-bottom: 0; font-weight: 600; color: var(--primary-color);">
                            Atribuir automaticamente (motorista mais próximo)
                        </label>
                    </div>
                    <small style="margin-top: -1.5rem; display: block;">Requer que um pin seja definido no mapa.</small>
                    <button type="submit" class="btn-submit">Gerar Pedido</button>
                </form>
            </div>

            <div id="gestao-motoristas" class="content-page hidden">
                <button class="btn-submit" onclick="showAddDriverForm(true)" id="btn-show-driver-form"><i class="fas fa-plus"></i> Adicionar Novo Motorista</button>
                <form id="form-add-motorista" class="hidden">
                    <h3>Dados do Novo Motorista</h3>
                    <div class="form-row">
                        <div class="form-group"><label for="driver-name">Nome Completo</label><input type="text" id="driver-name" required></div>
                        <div class="form-group"><label for="driver-phone">Telefone</label><input type="tel" id="driver-phone" required></div>
                    </div>
                    <div class="form-row">
                        <div class="form-group"><label for="driver-email">Email (para login)</label><input type="email" id="driver-email" required></div>
                        <div class="form-group"><label for="driver-password">Senha (para o motorista)</label><input type="password" id="driver-password" required minlength="6"></div>
                    </div>
                    <div class="form-row">
                         <div class="form-group"><label for="driver-plate">Viatura (Placa)</label><input type="text" id="driver-plate" placeholder="Ex: MXX-123-MP"></div>
                         <div class="form-group">
                            <label for="driver-commission">Comissão (%)</label>
                            <input type="number" id="driver-commission" value="20" min="0" max="100" step="1">
                         </div>
                    </div>
                    <button type="submit" class="btn-submit">Salvar Motorista</button>
                    <button type="button" class="btn-cancel" onclick="showAddDriverForm(false)">Cancelar</button>
                </form>
                <h3>Motoristas Registados</h3>
                <div class="table-container-responsive">
                    <table class="table-motoristas">
                        <thead><tr><th>Nome</th><th>Telefone</th><th>Viatura</th><th>Estado</th><th>Acções</th></tr></thead>
                        <tbody id="drivers-table-body"></tbody>
                    </table>
                </div>
            </div>

            <div id="gestao-clientes" class="content-page hidden">
                <button class="btn-submit" onclick="showAddClientForm(true)" id="btn-show-client-form">
                    <i class="fas fa-plus"></i> Adicionar Novo Cliente
                </button>
                <form id="form-add-cliente" class="hidden">
                    <h3>Dados do Novo Cliente</h3>
                    <div class="form-row">
                        <div class="form-group"><label for="client-nome">Nome Completo</label><input type="text" id="client-nome" required></div>
                        <div class="form-group"><label for="client-telefone">Telefone (Obrigatório)</label><input type="tel" id="client-telefone" required></div>
                    </div>
                    <div class="form-row">
                        <div class="form-group"><label for="client-empresa">Empresa (Opcional)</label><input type="text" id="client-empresa"></div>
                        <div class="form-group"><label for="client-email">Email (Opcional)</label><input type="email" id="client-email"></div>
                    </div>
                    <div class="form-row">
                         <div class="form-group"><label for="client-nuit">NUIT (Opcional)</label><input type="text" id="client-nuit"></div>
                         <div class="form-group"><label for="client-endereco">Endereço (Opcional)</label><input type="text" id="client-endereco"></div>
                    </div>
                    <button type="submit" class="btn-submit">Salvar Cliente</button>
                    <button type="button" class="btn-cancel" onclick="showAddClientForm(false)">Cancelar</button>
                </form>
                <h3>Clientes Registados</h3>
                <div class="table-container-responsive">
                    <table class="table-motoristas">
                        <thead>
                            <tr>
                                <th>Nome</th>
                                <th>Telefone</th>
                                <th>Empresa</th>
                                <th>Acções</th>
                            </tr>
                        </thead>
                        <tbody id="clients-table-body">
                        </tbody>
                    </table>
                </div>
            </div> 
            
            <div id="entregas-activas" class="content-page hidden">
                <h3>Gestão de Encomendas Activas</h3>
                <div class="table-container-responsive">
                    <table class="table-pedidos">
                        <thead>
                            <tr>
                                <th>ID Pedido</th>
                                <th>Cliente</th>
                                <th>Telefone</th>
                                <th>Estado</th>
                                <th>Motorista</th>
                                <th>Código</th> <th>Acção</th>
                            </tr>
                        </thead>
                        <tbody id="active-orders-table-body"></tbody>
                    </table>
                </div>
            </div>
            <div id="historico" class="content-page hidden">
                <h3>Histórico de Encomendas</h3>
                <div class="search-container">
                    <input type="text" id="history-search-input" placeholder="Pesquisar no histórico (ID, Cliente, Motorista...)">
                    <i class="fas fa-search"></i>
                </div>
                <div class="table-container-responsive">
                    <table class="table-pedidos">
                        <thead>
                            <tr>
                                <th>ID Pedido</th>
                                <th>Cliente</th>
                                <th>Natureza do Pedido</th>
                                <th>Motorista</th>
                                <th>Duração</th>
                                <th>Código</th> <th>Acções</th>
                            </tr>
                        </thead>
                        <tbody id="history-orders-table-body"></tbody>
                    </table>
                </div>
            </div>
            <div id="mapa-tempo-real" class="content-page hidden">
                <div id="live-map-container">
                </div>
            </div>
            <div id="configuracoes" class="content-page hidden">
                <h3>Segurança da Conta</h3>
                <form id="form-change-password">
                    <p>Altere a sua senha de administrador. Você será desconectado após a alteração.</p>
                    <div class="form-group">
                        <label for="admin-pass-antiga">Senha Antiga</label>
                        <input type="password" id="admin-pass-antiga" required>
                    </div>
                    <div class="form-group">
                        <label for="admin-pass-nova">Nova Senha (mín. 6 caracteres)</label>
                        <input type="password" id="admin-pass-nova" required minlength="6">
                    </div>
                    <div class="form-group">
                        <label for="admin-pass-confirmar">Confirmar Nova Senha</label>
                        <input type="password" id="admin-pass-confirmar" required minlength="6">
                    </div>
                    <button type="submit" class="btn-submit">Atualizar Senha</button>
                </form>
                <h3 style="margin-top: 3rem; border-color: var(--danger-color);">Zona de Perigo</h3>
                <div id="zona-de-perigo">
                    <p>Ações administrativas perigosas. Estas ações são irreversíveis.</p>
                    <button class="btn-danger" id="btn-delete-old-history">
                        <i class="fas fa-trash"></i> Apagar Histórico Antigo
                    </button>
                    <small style="display: block; margin-top: 5px;">Apaga todas as encomendas concluídas com mais de 30 dias.</small>
                    <button class="btn-danger" disabled style="margin-top: 1rem;"><i class="fas fa-users-slash"></i> Apagar Clientes Inativos (brevemente)</button>
                </div>
            </div>
            
            </div>
        <div id="assign-modal" class="modal-backdrop hidden">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>Atribuir Encomenda <span id="modal-order-id"></span></h3>
                        <button class="modal-close-btn" onclick="closeAssignModal()">×</button>
                    </div>
                    <div class="modal-body">
                        <p>Selecione um motorista disponível:</p>
                        <select id="driver-select-dropdown"><option value="">A carregar...</option></select>
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn-submit" id="btn-confirm-assign">Confirmar</button>
                        <button type="button" class="btn-cancel" onclick="closeAssignModal()">Cancelar</button>
                    </div>
                </div>
            </div>
            <div id="edit-driver-modal" class="modal-backdrop hidden">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>Editar Motorista</h3>
                        <button class="modal-close-btn" onclick="closeEditDriverModal()">×</button>
                    </div>
                    <form id="form-edit-motorista">
                        <div class="modal-body">
                            <input type="hidden" id="edit-driver-id">
                            <div class="form-group"><label for="edit-driver-name">Nome Completo</label><input type="text" id="edit-driver-name" required></div>
                            <div class="form-group"><label for="edit-driver-phone">Telefone</label><input type="tel" id="edit-driver-phone" required></div>
                            <div class="form-group"><label for="edit-driver-plate">Viatura (Placa)</label><input type="text" id="edit-driver-plate"></div>
                            <div class="form-group">
                                <label for="edit-driver-commission">Comissão (%)</label>
                                <input type="number" id="edit-driver-commission" value="20" min="0" max="100" step="1">
                            </div>
                            <div class="form-group">
                                <label for="edit-driver-status">Estado</label>
                                <select id="edit-driver-status" required>
                                    <option value="online_livre">Online (Livre)</option>
                                    <option value="online_ocupado">Online (Ocupado)</option>
                                    <option value="offline">Offline</option>
                                </select>
                            </div>
                        </div>
                        <div class="modal-actions">
                            <button type="submit" class="btn-submit">Salvar Alterações</button>
                            <button type="button" class="btn-cancel" onclick="closeEditDriverModal()">Cancelar</button>
                        </div>
                    </form>
                </div>
            </div>
            <div id="history-detail-modal" class="modal-backdrop hidden">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>Detalhes da Encomenda <span id="history-modal-id"></span></h3>
                        <button class="modal-close-btn" onclick="closeHistoryDetailModal()">×</button>
                    </div>
                    <div class="modal-body" id="history-modal-body">
                        <p>A carregar detalhes...</p>
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn-cancel" onclick="closeHistoryDetailModal()">Fechar</button>
                    </div>
                </div>
            </div>
            <div id="chart-reset-modal" class="modal-backdrop hidden">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>Resetar Estatísticas</h3>
                        <button class="modal-close-btn" id="btn-close-chart-reset">×</button>
                    </div>
                    <div class="modal-body">
                        <p>Esta ação é irreversível. Digite a senha de reset para confirmar:</p>
                        <div class="form-group">
                            <label for="chart-reset-password">Senha</label>
                            <input type="password" id="chart-reset-password" placeholder="Entregaah.wipe">
                        </div>
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn-submit btn-danger" id="btn-confirm-chart-reset">Confirmar Reset</button>
                        <button type="button" class="btn-cancel" id="btn-cancel-chart-reset">Cancelar</button>
                    </div>
                </div>
            </div>
            <div id="custom-alert-modal" class="modal-backdrop hidden">
                <div class="modal-content modal-alert">
                    <div class="modal-header">
                        <h3 id="custom-alert-title"></h3>
                        <button class="modal-close-btn" onclick="closeCustomAlert()">×</button>
                    </div>
                    <div class="modal-body">
                        <p id="custom-alert-message"></p>
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn-submit" onclick="closeCustomAlert()">OK</button>
                    </div>
                </div>
            </div>
            <div id="driver-report-modal" class="modal-backdrop hidden">
                <div class="modal-content modal-large">
                    <div class="modal-header">
                        <h3 id="driver-report-title">Relatório do Motorista</h3>
                        <button class="modal-close-btn" onclick="closeDriverReportModal()">×</button>
                    </div>
                    <div class="modal-body">
                        <div class="report-summary">
                            <div class="summary-card"><span>Total de Entregas</span><strong id="report-total-entregas">...</strong></div>
                            <div class="summary-card"><span>Tempo Total em Rota</span><strong id="report-total-duracao">...</strong></div>
                        </div>
                        <h4>Histórico de Entregas Concluídas</h4>
                        <div class="table-responsive">
                            <table class="table-pedidos">
                                <thead><tr><th>ID Pedido</th><th>Cliente</th><th>Natureza</th><th>Concluído Em</th><th>Duração</th></tr></thead>
                                <tbody id="driver-report-table-body"></tbody>
                            </table>
                        </div>
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn-cancel" onclick="closeDriverReportModal()">Fechar</button>
                    </div>
                </div>
            </div>
            <div id="edit-client-modal" class="modal-backdrop hidden">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>Editar Cliente</h3>
                        <button class="modal-close-btn" onclick="closeEditClientModal()">×</button>
                    </div>
                    <form id="form-edit-cliente">
                        <div class="modal-body">
                            <input type="hidden" id="edit-client-id">
                            <div class="form-group"><label for="edit-client-nome">Nome Completo</label><input type="text" id="edit-client-nome" required></div>
                            <div class="form-group"><label for="edit-client-telefone">Telefone</label><input type="tel" id="edit-client-telefone" required></div>
                            <div class="form-group"><label for="edit-client-empresa">Empresa</label><input type="text" id="edit-client-empresa"></div>
                            <div class="form-group"><label for="edit-client-email">Email</label><input type="email" id="edit-client-email"></div>
                            <div class="form-group"><label for="edit-client-nuit">NUIT</label><input type="text" id="edit-client-nuit"></div>
                            <div class="form-group"><label for="edit-client-endereco">Endereço</label><input type="text" id="edit-client-endereco"></div>
                        </div>
                        <div class="modal-actions">
                            <button type="submit" class="btn-submit">Salvar Alterações</button>
                            <button type="button" class="btn-cancel" onclick="closeEditClientModal()">Cancelar</button>
                        </div>
                    </form>
                </div>
            </div>
            <div id="statement-modal" class="modal-backdrop hidden">
                <div class="modal-content modal-large">
                    <div class="modal-header">
                        <h3 id="statement-client-name">Extrato do Cliente</h3>
                        <button class="modal-close-btn" onclick="closeStatementModal()">×</button>
                    </div>
                    <div class="modal-body">
                        <input type="hidden" id="statement-client-id">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="statement-start-date">De:</label>
                                <input type="date" id="statement-start-date">
                            </div>
                            <div class="form-group">
                                <label for="statement-end-date">Até:</label>
                                <input type="date" id="statement-end-date">
                            </div>
                        </div>
                        <div class="form-group" style="display: flex; gap: 1rem; margin-top: -0.5rem;">
                            <button type="button" class="btn-action-small btn-set-date" data-range="this_week">Esta Semana</button>
                            <button type="button" class="btn-action-small btn-set-date" data-range="this_month">Este Mês</button>
                        </div>
                        <button type="button" class="btn-submit" id="btn-generate-statement">
                            <i class="fas fa-search"></i> Gerar Extrato
                        </button>
                        <div id="statement-results" class="hidden" style="margin-top: 2rem;">
                            <hr>
                            <div class="report-summary">
                                <div class="summary-card">
                                    <span>Total Gasto (MZN)</span>
                                    <strong id="statement-total-value">...</strong>
                                </div>
                                <div class="summary-card">
                                    <span>Total de Pedidos</span>
                                    <strong id="statement-total-orders">...</strong>
                                </div>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <h4 id="statement-date-range">Pedidos Concluídos</h4>
                                <button type="button" class="btn-action-small" id="btn-download-pdf">
                                    <i class="fas fa-file-pdf"></i> Baixar PDF
                                </button>
                            </div>
                            <div class="table-responsive">
                                <table class="table-pedidos">
                                    <thead>
                                        <tr>
                                            <th>Data Conclusão</th>
                                            <th>ID Pedido</th>
                                            <th>Natureza</th>
                                            <th>Valor (MZN)</th>
                                        </tr>
                                    </thead>
                                    <tbody id="statement-table-body">
                                        </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn-cancel" onclick="closeStatementModal()">Cancelar</button>
                    </div>
                </div>
            </div>
            <div id="confirmation-modal" class="modal-backdrop hidden">
                <div class="modal-content modal-alert">
                    <div class="modal-header error">
                        <h3 id="confirmation-title">Confirmar Ação</h3>
                        <button class="modal-close-btn" id="btn-close-confirmation-modal">×</button>
                    </div>
                    <div class="modal-body">
                        <p id="confirmation-message" style="margin-bottom: 1rem;">Tem a certeza? Esta ação não pode ser revertida.</p>
                        <div class="form-group">
                            <label for="confirmation-input" id="confirmation-input-label">Para confirmar, digite a palavra:</label>
                            <input type="text" id="confirmation-input" style="text-align: center; font-weight: bold; text-transform: uppercase;">
                        </div>
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn-submit btn-danger" id="btn-confirm-action" disabled>Confirmar e Apagar</button>
                        <button type="button" class="btn-cancel" id="btn-cancel-confirmation-modal">Cancelar</button>
                    </div>
                </div>
            </div>

    </main>
    
    <script src="js/common/api.js"></script>
    <script src="js/common/auth.js"></script>
    <script src="js/common/ui.js"></script>
    <script src="js/admin/adminCharts.js"></script>
    <script src="js/admin/adminMap.js"></script>
    <script src="js/admin/admin.js"></script>

</body>
</html>